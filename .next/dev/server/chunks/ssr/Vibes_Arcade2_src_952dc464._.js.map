{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/jackmccordic/Desktop/Vibes/Arcade2/src/components/WalletStatus.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useAccount, useBalance, useChainId, useConnect, useDisconnect } from \"wagmi\";\nimport { monadTestnet } from \"../lib/wagmi\";\n\nexport default function WalletStatus() {\n  const [mounted, setMounted] = useState(false);\n  const { address, isConnected } = useAccount();\n  const { data: balance } = useBalance({\n    address,\n    chainId: monadTestnet.id,\n    query: {\n      enabled: Boolean(address)\n    }\n  });\n  const chainId = useChainId();\n  const { connect, connectors, isPending } = useConnect();\n  const { disconnect } = useDisconnect();\n\n  const isCorrectChain = chainId === monadTestnet.id;\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  if (!mounted) {\n    return (\n      <div className=\"card\">\n        <h3>Wallet</h3>\n        <p className=\"muted\">Loading wallet status...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"card\">\n      <h3>Wallet</h3>\n      {isConnected ? (\n        <>\n          <p className=\"muted\">\n            Connected: <span className=\"mono\">{address}</span>\n          </p>\n          <p className=\"muted\">\n            Balance:{\" \"}\n            <span className=\"mono\">\n              {balance?.formatted\n                ? `${Number(balance.formatted).toFixed(4)} ${balance.symbol || \"MON\"}`\n                : \"Loading...\"}\n            </span>\n          </p>\n          <p className={isCorrectChain ? \"success\" : \"error\"}>\n            {isCorrectChain ? \"Monad Testnet\" : `Wrong network (${chainId})`}\n          </p>\n          <button className=\"secondary\" onClick={() => disconnect()}>\n            Disconnect\n          </button>\n        </>\n      ) : (\n        <>\n          <p className=\"muted\">Connect your wallet to view challenges.</p>\n          <button\n            onClick={() => connect({ connector: connectors[0] })}\n            disabled={isPending}\n          >\n            Connect Wallet\n          </button>\n        </>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,qOAAQ,EAAC;IACvC,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,GAAG,IAAA,+OAAU;IAC3C,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,IAAA,6LAAU,EAAC;QACnC;QACA,SAAS,uJAAY,CAAC,EAAE;QACxB,OAAO;YACL,SAAS,QAAQ;QACnB;IACF;IACA,MAAM,UAAU,IAAA,6LAAU;IAC1B,MAAM,EAAE,OAAO,EAAE,UAAU,EAAE,SAAS,EAAE,GAAG,IAAA,6LAAU;IACrD,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,mMAAa;IAEpC,MAAM,iBAAiB,YAAY,uJAAY,CAAC,EAAE;IAElD,IAAA,sOAAS,EAAC;QACR,WAAW;IACb,GAAG,EAAE;IAEL,IAAI,CAAC,SAAS;QACZ,qBACE,kQAAC;YAAI,WAAU;;8BACb,kQAAC;8BAAG;;;;;;8BACJ,kQAAC;oBAAE,WAAU;8BAAQ;;;;;;;;;;;;IAG3B;IAEA,qBACE,kQAAC;QAAI,WAAU;;0BACb,kQAAC;0BAAG;;;;;;YACH,4BACC;;kCACE,kQAAC;wBAAE,WAAU;;4BAAQ;0CACR,kQAAC;gCAAK,WAAU;0CAAQ;;;;;;;;;;;;kCAErC,kQAAC;wBAAE,WAAU;;4BAAQ;4BACV;0CACT,kQAAC;gCAAK,WAAU;0CACb,SAAS,YACN,GAAG,OAAO,QAAQ,SAAS,EAAE,OAAO,CAAC,GAAG,CAAC,EAAE,QAAQ,MAAM,IAAI,OAAO,GACpE;;;;;;;;;;;;kCAGR,kQAAC;wBAAE,WAAW,iBAAiB,YAAY;kCACxC,iBAAiB,kBAAkB,CAAC,eAAe,EAAE,QAAQ,CAAC,CAAC;;;;;;kCAElE,kQAAC;wBAAO,WAAU;wBAAY,SAAS,IAAM;kCAAc;;;;;;;6CAK7D;;kCACE,kQAAC;wBAAE,WAAU;kCAAQ;;;;;;kCACrB,kQAAC;wBACC,SAAS,IAAM,QAAQ;gCAAE,WAAW,UAAU,CAAC,EAAE;4BAAC;wBAClD,UAAU;kCACX;;;;;;;;;;;;;;AAOX"}},
    {"offset": {"line": 165, "column": 0}, "map": {"version":3,"sources":["file:///Users/jackmccordic/Desktop/Vibes/Arcade2/src/lib/contracts/arcadeEscrow.ts"],"sourcesContent":["import type { Address } from \"viem\";\n\nexport const arcadeEscrowAbi = [\n  {\n    inputs: [\n      { internalType: \"address\", name: \"opponent\", type: \"address\" },\n      { internalType: \"uint32\", name: \"gameId\", type: \"uint32\" },\n      { internalType: \"uint64\", name: \"acceptBy\", type: \"uint64\" },\n      { internalType: \"uint64\", name: \"resolveBy\", type: \"uint64\" },\n      { internalType: \"bytes32\", name: \"metaHash\", type: \"bytes32\" }\n    ],\n    name: \"createChallenge\",\n    outputs: [{ internalType: \"uint256\", name: \"matchId\", type: \"uint256\" }],\n    stateMutability: \"payable\",\n    type: \"function\"\n  },\n  {\n    inputs: [{ internalType: \"uint256\", name: \"matchId\", type: \"uint256\" }],\n    name: \"matches\",\n    outputs: [\n      { internalType: \"address\", name: \"creator\", type: \"address\" },\n      { internalType: \"address\", name: \"opponent\", type: \"address\" },\n      { internalType: \"uint96\", name: \"wager\", type: \"uint96\" },\n      { internalType: \"uint32\", name: \"gameId\", type: \"uint32\" },\n      { internalType: \"uint64\", name: \"createdAt\", type: \"uint64\" },\n      { internalType: \"uint64\", name: \"acceptBy\", type: \"uint64\" },\n      { internalType: \"uint64\", name: \"resolveBy\", type: \"uint64\" },\n      { internalType: \"uint8\", name: \"state\", type: \"uint8\" },\n      { internalType: \"address\", name: \"winner\", type: \"address\" },\n      { internalType: \"bytes32\", name: \"metaHash\", type: \"bytes32\" }\n    ],\n    stateMutability: \"view\",\n    type: \"function\"\n  },\n  {\n    anonymous: false,\n    inputs: [\n      { indexed: true, internalType: \"uint256\", name: \"matchId\", type: \"uint256\" },\n      { indexed: true, internalType: \"address\", name: \"creator\", type: \"address\" },\n      { indexed: true, internalType: \"address\", name: \"opponent\", type: \"address\" },\n      { indexed: false, internalType: \"uint256\", name: \"wager\", type: \"uint256\" },\n      { indexed: false, internalType: \"uint32\", name: \"gameId\", type: \"uint32\" },\n      { indexed: false, internalType: \"uint64\", name: \"acceptBy\", type: \"uint64\" },\n      { indexed: false, internalType: \"uint64\", name: \"resolveBy\", type: \"uint64\" },\n      { indexed: false, internalType: \"bytes32\", name: \"metaHash\", type: \"bytes32\" }\n    ],\n    name: \"ChallengeCreated\",\n    type: \"event\"\n  }\n] as const;\n\nexport const ESCROW_STATE = {\n  NONE: 0,\n  OPEN: 1,\n  ACCEPTED: 2,\n  FINALIZED: 3,\n  REFUNDED: 4,\n  CANCELED: 5\n} as const;\n\nexport function getArcadeEscrowAddress(): Address | null {\n  const value = process.env.NEXT_PUBLIC_ARCADE_ESCROW_ADDRESS;\n  if (!value) return null;\n  return value as Address;\n}\n"],"names":[],"mappings":";;;;;;;;AAEO,MAAM,kBAAkB;IAC7B;QACE,QAAQ;YACN;gBAAE,cAAc;gBAAW,MAAM;gBAAY,MAAM;YAAU;YAC7D;gBAAE,cAAc;gBAAU,MAAM;gBAAU,MAAM;YAAS;YACzD;gBAAE,cAAc;gBAAU,MAAM;gBAAY,MAAM;YAAS;YAC3D;gBAAE,cAAc;gBAAU,MAAM;gBAAa,MAAM;YAAS;YAC5D;gBAAE,cAAc;gBAAW,MAAM;gBAAY,MAAM;YAAU;SAC9D;QACD,MAAM;QACN,SAAS;YAAC;gBAAE,cAAc;gBAAW,MAAM;gBAAW,MAAM;YAAU;SAAE;QACxE,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YAAC;gBAAE,cAAc;gBAAW,MAAM;gBAAW,MAAM;YAAU;SAAE;QACvE,MAAM;QACN,SAAS;YACP;gBAAE,cAAc;gBAAW,MAAM;gBAAW,MAAM;YAAU;YAC5D;gBAAE,cAAc;gBAAW,MAAM;gBAAY,MAAM;YAAU;YAC7D;gBAAE,cAAc;gBAAU,MAAM;gBAAS,MAAM;YAAS;YACxD;gBAAE,cAAc;gBAAU,MAAM;gBAAU,MAAM;YAAS;YACzD;gBAAE,cAAc;gBAAU,MAAM;gBAAa,MAAM;YAAS;YAC5D;gBAAE,cAAc;gBAAU,MAAM;gBAAY,MAAM;YAAS;YAC3D;gBAAE,cAAc;gBAAU,MAAM;gBAAa,MAAM;YAAS;YAC5D;gBAAE,cAAc;gBAAS,MAAM;gBAAS,MAAM;YAAQ;YACtD;gBAAE,cAAc;gBAAW,MAAM;gBAAU,MAAM;YAAU;YAC3D;gBAAE,cAAc;gBAAW,MAAM;gBAAY,MAAM;YAAU;SAC9D;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,WAAW;QACX,QAAQ;YACN;gBAAE,SAAS;gBAAM,cAAc;gBAAW,MAAM;gBAAW,MAAM;YAAU;YAC3E;gBAAE,SAAS;gBAAM,cAAc;gBAAW,MAAM;gBAAW,MAAM;YAAU;YAC3E;gBAAE,SAAS;gBAAM,cAAc;gBAAW,MAAM;gBAAY,MAAM;YAAU;YAC5E;gBAAE,SAAS;gBAAO,cAAc;gBAAW,MAAM;gBAAS,MAAM;YAAU;YAC1E;gBAAE,SAAS;gBAAO,cAAc;gBAAU,MAAM;gBAAU,MAAM;YAAS;YACzE;gBAAE,SAAS;gBAAO,cAAc;gBAAU,MAAM;gBAAY,MAAM;YAAS;YAC3E;gBAAE,SAAS;gBAAO,cAAc;gBAAU,MAAM;gBAAa,MAAM;YAAS;YAC5E;gBAAE,SAAS;gBAAO,cAAc;gBAAW,MAAM;gBAAY,MAAM;YAAU;SAC9E;QACD,MAAM;QACN,MAAM;IACR;CACD;AAEM,MAAM,eAAe;IAC1B,MAAM;IACN,MAAM;IACN,UAAU;IACV,WAAW;IACX,UAAU;IACV,UAAU;AACZ;AAEO,SAAS;IACd,MAAM,QAAQ,QAAQ,GAAG,CAAC,iCAAiC;IAC3D,IAAI,CAAC,OAAO,OAAO;IACnB,OAAO;AACT"}},
    {"offset": {"line": 350, "column": 0}, "map": {"version":3,"sources":["file:///Users/jackmccordic/Desktop/Vibes/Arcade2/src/components/PendingChallenges.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport { Address, decodeEventLog, formatEther, parseAbiItem } from \"viem\";\nimport { useAccount, usePublicClient } from \"wagmi\";\nimport { arcadeEscrowAbi, ESCROW_STATE, getArcadeEscrowAddress } from \"../lib/contracts/arcadeEscrow\";\n\ntype PendingChallenge = {\n  matchId: bigint;\n  creator: Address;\n  opponent: Address;\n  wager: bigint;\n  acceptBy: bigint;\n  resolveBy: bigint;\n};\n\nconst MIN_WAGER_WEI = 10n ** 18n;\n\nexport default function PendingChallenges() {\n  const { address } = useAccount();\n  const publicClient = usePublicClient();\n  const escrowAddress = getArcadeEscrowAddress();\n  const [challenges, setChallenges] = useState<PendingChallenge[]>([]);\n  const [refreshKey, setRefreshKey] = useState(0);\n  const [status, setStatus] = useState(\"Idle\");\n  const [error, setError] = useState(\"\");\n\n  const isReady = Boolean(address && publicClient && escrowAddress);\n\n  useEffect(() => {\n    if (!isReady) {\n      setChallenges([]);\n      return;\n    }\n\n    let cancelled = false;\n\n    const load = async () => {\n      if (!publicClient || !escrowAddress || !address) return;\n      setStatus(\"Loading...\");\n      setError(\"\");\n\n      try {\n        const logs = await publicClient.getLogs({\n          address: escrowAddress,\n          event: parseAbiItem(\n            \"event ChallengeCreated(uint256 indexed matchId,address indexed creator,address indexed opponent,uint256 wager,uint32 gameId,uint64 acceptBy,uint64 resolveBy,bytes32 metaHash)\"\n          ),\n          fromBlock: 0n\n        });\n\n        const decoded = logs\n          .map((log) => {\n            const event = decodeEventLog({\n              abi: arcadeEscrowAbi,\n              data: log.data,\n              topics: log.topics\n            });\n            return {\n              matchId: event.args.matchId as bigint,\n              creator: event.args.creator as Address,\n              opponent: event.args.opponent as Address,\n              wager: event.args.wager as bigint,\n              acceptBy: event.args.acceptBy as bigint,\n              resolveBy: event.args.resolveBy as bigint\n            };\n          })\n          .filter((event) => event.opponent.toLowerCase() === address.toLowerCase());\n\n        const withState = await Promise.all(\n          decoded.map(async (event) => {\n            const match = (await publicClient.readContract({\n              address: escrowAddress,\n              abi: arcadeEscrowAbi,\n              functionName: \"matches\",\n              args: [event.matchId]\n            })) as readonly [\n              Address,\n              Address,\n              bigint,\n              number,\n              bigint,\n              bigint,\n              bigint,\n              number,\n              Address,\n              `0x${string}`\n            ];\n            return { event, state: match[7] };\n          })\n        );\n\n        const pending = withState\n          .filter((item) => item.state === ESCROW_STATE.OPEN && item.event.wager >= MIN_WAGER_WEI)\n          .map((item) => item.event)\n          .sort((a, b) => (a.wager > b.wager ? -1 : 1));\n\n        if (!cancelled) {\n          setChallenges(pending);\n          setStatus(\"Loaded\");\n        }\n      } catch (err: any) {\n        if (!cancelled) {\n          setError(err?.shortMessage || err?.message || \"Failed to load challenges\");\n          setStatus(\"Error\");\n        }\n      }\n    };\n\n    load();\n\n    return () => {\n      cancelled = true;\n    };\n  }, [address, escrowAddress, isReady, publicClient, refreshKey]);\n\n  const content = useMemo(() => {\n    if (!escrowAddress) return \"Missing NEXT_PUBLIC_ARCADE_ESCROW_ADDRESS\";\n    if (!address) return \"Connect wallet to view pending challenges.\";\n    if (error) return error;\n    if (status === \"Loading...\") return \"Loading challenges...\";\n    if (!challenges.length) return \"No pending challenges.\";\n    return null;\n  }, [address, challenges.length, error, escrowAddress, status]);\n\n  return (\n    <aside className=\"card\">\n      <div className=\"row\">\n        <h3>Pending Challenges</h3>\n        <button className=\"secondary\" onClick={() => setRefreshKey((prev) => prev + 1)}>\n          Refresh\n        </button>\n      </div>\n\n      {content ? <p className=\"muted\">{content}</p> : null}\n\n      {challenges.map((challenge) => (\n        <div key={challenge.matchId.toString()} className=\"challenge-item\">\n          <p className=\"mono\">Match #{challenge.matchId.toString()}</p>\n          <p className=\"muted\">From: {challenge.creator}</p>\n          <p>\n            Wager: <strong>{formatEther(challenge.wager)} MON</strong>\n          </p>\n        </div>\n      ))}\n    </aside>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 557, "column": 0}, "map": {"version":3,"sources":["file:///Users/jackmccordic/Desktop/Vibes/Arcade2/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport WalletStatus from \"../components/WalletStatus\";\nimport PendingChallenges from \"../components/PendingChallenges\";\n\nexport default function HomePage() {\n  return (\n    <main className=\"container grid\">\n      <section className=\"stack\">\n        <header className=\"card\">\n          <h1>Arcade2</h1>\n          <p className=\"muted\">Connect your wallet to see incoming wagers.</p>\n        </header>\n        <WalletStatus />\n      </section>\n      <PendingChallenges />\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,qBACE,kQAAC;QAAK,WAAU;;0BACd,kQAAC;gBAAQ,WAAU;;kCACjB,kQAAC;wBAAO,WAAU;;0CAChB,kQAAC;0CAAG;;;;;;0CACJ,kQAAC;gCAAE,WAAU;0CAAQ;;;;;;;;;;;;kCAEvB,kQAAC,iKAAY;;;;;;;;;;;0BAEf,kQAAC,sKAAiB;;;;;;;;;;;AAGxB"}}]
}